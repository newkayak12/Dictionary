

[참고문헌](https://medium.com/harrythegreat/aws-%EA%B0%80%EC%9E%A5%EC%89%BD%EA%B2%8C-vpc-%EA%B0%9C%EB%85%90%EC%9E%A1%EA%B8%B0-71eef95a7098)
[참고문헌](https://velog.io/@yenicall/AWS-VPC%EC%9D%98-%EA%B0%9C%EB%85%90)
[참고문헌](https://aws.amazon.com/ko/blogs/architecture/its-adopts-microservices-architecture-for-improved-air-travel-search-engine/)

# VPN(Virtual Private Network)
가상의 네트워크 망을 구성하는 것을 의미한다. 이렇게 되면 다른 네트워크에 있더라도 한 네트워크에 있는 것처럼 동작하게 할 수 있다.


# VPC(VirtualPrivateCloud)

VPC를 적용하면 VPC 별로 네트워크를 격리하거나 VPC 별로 네트워크 설정을 줄 수 있다. 각  VPC는 완전히 다른 네트워크처럼 작동한다.
사용자는 VPC 내에서 IP대역, 인터페이스, 서브넷, 라우팅 테이블, 인터넷 게이트웨이, 보안 그룹, ACL 등을 생성하고 제어할 수 있다.

# 서브넷
- 퍼블릭 : 외부와 자유로운 통신이 가능하다.
- 프라이빗 : 외부에서 접근할 수 없다. 내부에서 외부로 나갈 때 NAT Gateway를 통해서 내보낼 수 있다.

## IP 주소 구성
아이피는 네트워크ID(국가별) + 호스트ID로 구성된다. 예를 들어서 192.168.10.10 => 11000000.10101000.00001010.00001010가 되고
11000000.10101000.00001010가 네트워크 ID라면 00001010가 호스트가 된다.

## 클래스
11000000.10101000.00001010.00001010 는 총 32bit로 8비트마다 하나의 옥텟이 된다. 클래스는 이미 사용하지 않지만  네트워크 ID가 차지하는 길이에 따라서
A,B,C로 클래스를 나눌 수 있다.

- classA : Net.Host.Host.host -> Network의 첫 옥텟 비트는 0으로 고정
- classB : Net.Net.Host.host ->  Network의 첫번째, 두번째 옥텟 비트는 1,0으로 고정
- classC : Net.Net.Net.host ->  Network의 첫번째, 두번째, 세번쨰 옥텟 비트는 1,1,0으로 고정

## 서브넷
IPv4가 부족하던 시기 IP를 클래스로 나눠서 할당하는 방법을 택했다. 그러나 그래도 부족하게 되어 서브넷 개념이 등장하게 되었다. 
1. subnet은 네트워크가 분할되어 나눠진 작은 네트워크다.
2. 서브넷을 만들기 위해서 분할하는 것을 서브네팅이라고 한다.
3. 서브네팅은 서브넷 마스크를 통해서 계산되어 수행된다.

## 서브넷 마스크
IP주소에서 네트워크 ID와 호스트ID로 구분하기 위해서 만들어졌다. 서브넷 마스크는 IP주소와 똑같은 32비트 2진수로 표현된다.
아이피와 다른 점은 연속된 1, 연속된 0으로 구성되어 있다.

> 10011111.11011111.11110011.00000000 같은 경우가 아니라
> 11111111.11111111.11111100.00000000 같이 말이다.

서브넷 마스크로 네트워크 ID, 호스트 ID를 보다 편리하게 구분할 수 있다.

| Class |                대역                 | default Subnet Mask |
|:-----:|:---------------------------------:|:-------------------:|
|   A   |     1.0.0.0 ~ 127.255.255.255     |      255.0.0.0      |
|   B   | 128.0.0.0.0 ~ 191.255.255.255.255 |     255.255.0.0     |
|   C   |   192.0.0.0.0 ~ 233.255.255.255   |    255.255.255.0    |


더 간소화하면 `192.168.0.1/24`로 표현할 수 있고 `/24`는 서브넷 마스크를 표현한 것이다. 앞에서 부터 차례대로 1의 개수가 24개라는 의미다.

- 10.10.10.10/8 -> networkId 10
- 172.16.1.10/16 -> networkId 172.16
- 192.168.10.100/24 -> networkId 192.168.10

## 서브네팅
IP를 효율적으로 쪼개서 사용하는 방법을 말한다. 네트워크 성능 보장, 자원을 효율적으로 분배하기 위해서 네트워크 영역과 호스트 영역을 쪼개는 작업을 행한다.


## CIDR(Classless Inter-Domain Routing)

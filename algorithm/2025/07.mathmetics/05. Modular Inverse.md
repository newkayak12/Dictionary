## 1. 모듈러 역원?
- 정수 a, m에 대해서 `a * x = 1 (mod m)`을 만족하는 정수 x를 찾는 것
- 예를 들어 a=3, m=7
	- 3 * x ≡ 1 mod 7 (3 * x를 7로 나눈 나머지가 1과 같다.)
		- x = 5

> 13 ÷ 5 = 2 ... 3
> -> 13 mod 5 = 3

- 위에서 x = 5는 
	- 3에 곱했을 때 mod 7에서 1이 되게 만드는 값 -> 3 모듈러의 역원
	- a * a^-1 = 1 mod m 
		- 이를 만족하는 a^-1 를 a의 모듈러 역원이라고 한다.

## 2. 언제 구할 수 있나?
- 정수 a, m에 대해서 
> a mod m 
> gcd(a, m) = 1

- a, m이 여러 개 수들 사이 1 이외에는 공략수가 없는 서로소일 때

## 3. 모듈러 역원을 구하는 목적

<sub>n</sub>C<sub>r</sub> = n! / (r! * (n-r)!)

- mod 연산에는 나눗셈이 직접 불가능하므로 (r! * (n-r)!)의 모듈러 역원을 곱해준다.
- (r! * (n-r)!)<sup>-1</sup>이 모듈러 역원이다.

> -  mod 연산은 정수 집합 안에서만 정의된다.
> -  유리수(분수)를 다룰 수 없다.
> -  `(a / b) mod m` 은 수학적으로 정의되지 않는다.
> -> 나눗셈을 못하니 곱셈으로 바꾸자
> -> `(a / b) mod m` -> (a * b<sup>-1</sub>) mod m

## 4. 구하는 방법

| **방법**           | **설명**                              | **시간 복잡도**            | 선택 기준                  |
| ---------------- | ----------------------------------- | --------------------- | ---------------------- |
| 1. 브루트포스 (완전 탐색) | a * x ≡ 1 mod m 만족하는 x를 1부터 차례대로 찾음 | O(m)                  | ❌ 비효율                  |
| 2. 확장 유클리드 알고리즘  | ax + my = 1 만족하는 x를 구함 → x가 역원      | O(log m)              | mod가 소수가 아니다.          |
| 3. 페르마의 소정리 이용   | x = a^(m-2) mod m (단, m은 소수일 때)     | O(log m) (빠른 거듭제곱 이용) | mod가 소수다.(1_000_000_7) |


### BruteForce

> a * x = 1 (mod m)

- x를 찾고 싶다.
- x를 모듈러 역원(modular inverse)라고 부른다. 
- a<sup>-1</sup> = x (mod m)
- 모듈러 연산은 나눗셈이 정의되어 있지 않다.
- 따라서 a*b<sup>-1</sub> mod m에서 b<sup>-1</sub>을 찾아야 한다.

#### bruteForce 이용하기
- 만족하는 x를 1부터 m - 1까지 넣어보는 것이다. (단순 대입)
```kotlin
class ModularInverseBruteforce {  
  
    @Test  
    fun solution(){  
        val a = 3  
        val m = 7  
  
        val expected = 5  
        assertEquals(expected, bruteforce(a, m))  
    }  
  
    private fun bruteforce(a: Int, m: Int): Int? {  
        for(x in 1 until m) {  // 1 ~ m - 1
            if((a * x) % m == 1) return x  
        }  
  
        return  null  
    }  
}
```
- 이해가 직관적이고
- 수가 적으면 충분히 빠르다.
- 대신 m이 너무 크면 느리다(1_000_000_007이면 불가능이다.)

#### 확장 유클리드 알고리즘
- a*x + m*y = 1의 해 x를 구한다.
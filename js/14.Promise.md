# Promise
```javascript
// 프로미스 객체를 반환하는 함수 생성
function myPromise() {
    return new Promise((resolve, reject) => {
        if (/* 성공 조건 */) {
            resolve(/* 결과 값 */);
        } else {
            reject(/* 에러 값 */);
        }
    });
}

// 프로미스 객체를 반환하는 함수 사용
myPromise()
    .then((result) => {
        // 성공 시 실행할 콜백 함수
    })
    .catch((error) => {
        // 실패 시 실행할 콜백 함수
    });
```

## Promise 객체를 함수로 반환 값으로 얻어 사용 하는 이유
1. 재사용성 : 프로미스 객체를 함수로 만들면 필요할 때마다 호출하여 사용함으로써, 반복되는 비동기 작업을 효율적으로 처리할 수 있다.
2. 가독성 : 프로미스 객체를 함수로 만들면 코드의 구조가 명확져, 비동기 작업의 정의와 사용을 분리하여 코드의 가독성을 높일 수 있다.
3. 확장성 : 프로미스 객체를 함수로 만들면 인자를 전달하여 동적으로 비동기 작업을 수행할 수 있다. 또한 여러 개의 프로미스 객체를 반환하는 함수들을 연결하여 복잡한 비동기 로직을 구현할 수 있다.

## Promise 상태
1. Pending(대기) : 처리가 완료되지 않은 상태 (처리 진행중)
2. Fulfilled(이행) : 성공적으로 처리가 완료된 상태
3. Rejected(거부) : 처리가 실패로 끝난 상태

# Promise.resolve()



# Promise.all()
Promise.all([ promise1, promise2, ... ]) 의 형태로 사용되며, 배열로 받은 모든 프로미스가 fulfill 된 이후, 모든 프로미스의 반환 값을 배열에 넣어 반환한다.
문제는 하나라도 reject되면 catch로 빠진다.
```javascript
const promise1 = new Promise((resolve) => {
  setTimeout(() => {
    resolve(1);
  }, 3000);
});

const promise2 = new Promise((resolve) => {
  setTimeout(() => {
    resolve(2);
  }, 2000);
});

const promise3 = new Promise((resolve, reject) => {
  setTimeout(() => {
    reject(new Error('다 무시하고 에러내버려!'));
  }, 2500);
});

Promise.all([promise1, promise2, promise3])
  .then((result) => console.log(result))
  .catch((e) => console.error(e));
```

# Promise.allSettled()
Promise.allSettled는 여러 프로미스를 병렬적으로 처리하되, 하나의 프로미스가 실패해도 무조건 이행한다.
Promise.allSettled([ promise1, promise2,...]) 의 형태로 이 역시 Promise.all과 동일한 형태로 실행한다. 하지만 반환값은 Promise.all과 매우 다르다.
배열로 받은 모든 프로미스의 fulfilled, reject 여부와 상관없이, 전부 완료만 되었다면(not pending) 해당 프로미스들의 결과를 배열로 리턴한다.
```javascript
const promise1 = new Promise((resolve) => {
  setTimeout(() => {
    resolve(1);
  }, 3000);
});

const promise2 = new Promise((resolve) => {
  setTimeout(() => {
    resolve(2);
  }, 2000);
});

const promise3 = new Promise((resolve, reject) => {
  setTimeout(() => {
    reject(new Error('다 무시하고 에러내버려!'));
  }, 2500);
});

Promise.allSettled([promise1, promise2, promise3])
  .then((result) => console.log(result))
  .catch((e) => console.error(e));
```
`Promise.allSettled`의 결과를 필터해서 다시 보낼 수 있다.




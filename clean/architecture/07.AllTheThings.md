# 크고 작은 것들

- Service-Oriented-Architecture, Micro-Service-Architecture 모두 인기를 끌고 있다.
- 서비스를 사용하면 상호 결합이 철저하게 분리되는 것처럼 보인다.
- 서비스를 사용하면 배포 독립성을 지원하는 것처럼 보인다.
- 둘 다 '확실히 맞다'라고 하기에는 조금 애매하다.


## ServiceArchitecture
- 서비스, 실질적으로 아키텍쳐 관점에서 꼭 중요하다고 볼 수는 없다.
- 서비스 그 자체로 아키텍쳐를 정의하지 않는다.
- 서비스는 프로세스, 플랫폼의 경계를 넘나드는 함수 호출로 정의할 수 있다.
- 아키텍쳐로 중요한 서비스도 물론 있다.

### 이점
- 서비스를 분리하면서 이점이 있지만 아래와 같은 문제가 있다.
  1. 결합이 분리된다. => 물론 네트워크 상의 상호작용으로 서로 공유하는 데이터가 있다면 강결합이 존재한다.
  2. 개발, 배포에서 독립적으로 할 수 있다. => 만약 결합이 있으면 제한적이다.
- 가만히 보면 횡단 관심사로 엮여 있다면 서비스를 분리하는 것이 큰 의미가 없을 수도 있음을 알려준다. 

### 그래서?
- 결과적으로 보면 서비스가 아키텍쳐적으로 그리 중요한 요소는 아니다.
- 서비스는 단 하나의 아키텍쳐 경계로 둘러싸인 단일 컴포넌트로 만들 수 있다. 
- 혹은 여러 아키텍쳐 경계로 분리된 다수 컴포넌트로 구성할 수도 있다.

## 테스트
- 테스트도 시스템의 일부이며, 아키텍쳐에도 관여한다.
- 테스트가 시스템의 설계와 잘 통합되지 않으면, 테스트가 깨지기 쉬워진다.
- 강결합이 생기면 테스트가 시스템 변경에 취약하다. 아주 사소한 변경에도 테스트를 망가질 수 있다.
- 이 문제가 반복되면 단순 수정에 부담감이 생길 것이다.
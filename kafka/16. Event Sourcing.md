### 개념

- **이벤트가 Single Source of Truth**
- 상태 변경을 직접 저장하지 않고 **변경 사실(이벤트)을 저장**
- 현재 상태는 **이벤트들을 순차 적용하여 복원**
### 핵심 구성 요소
1. Event Store
	- **Append-Only**: 이벤트 추가만 가능, 수정/삭제 불가
	- **순서 보장**: 발생 순서대로 저장
	- **불변성**: 한번 저장된 이벤트는 영구 보존

2. Event Stream
	- **Aggregate별 이벤트 스트림**: 동일 엔티티의 모든 이벤트
	- **Global Event Stream**: 전체 시스템의 모든 이벤트
	- **Version**: 각 이벤트의 순서 번호

3. Projection (Read Model)
	- **이벤트 재생**: 저장된 이벤트들을 순차 적용
	- **View 생성**: 쿼리에 최적화된 읽기 모델
	- **실시간 업데이트**: 새 이벤트 발생 시 Projection 갱신

---
### Event 설계

1. Event 네이밍
	- **과거형**: UserCreated, OrderCancelled, PaymentProcessed
	- **비즈니스 의미**: 기술적 세부사항보다 도메인 이벤트
	- **불변 이름**: 한번 정한 이벤트명은 변경 불가

2. Aggregate와 Event Stream
	- Aggregate 단위
		- **트랜잭션 경계**: Aggregate 내에서만 강한 일관성
		- **Event Stream**: 하나의 Aggregate = 하나의 Event Stream
		- **Version 관리**: Aggregate 버전 = 마지막 이벤트 버전

3. Snapshot 전략
	- 왜 Snapshot이 필요한가?
		- **성능**: 천 개 이벤트 재생하면 느려짐
		- **메모리**: 긴 이벤트 스트림 로드 시 메모리 부담
		- **복잡성**: 이벤트 수가 많을수록 복원 로직 복잡

4. Event Upcasting (이벤트 진화)
	- **Upcasting 전략**
	- **Event Versioning**: 이벤트에 버전 정보 포함
	- **Migration Function**: 구 버전 → 신 버전 변환 함수
	- **Lazy Migration**: 이벤트 읽을 때 필요시 변환

5. 시간 기반 쿼리
	- **Point-in-Time 쿼리**
		- **특정 시점 상태**: 그 시점까지의 이벤트만 재생
		- **감사 기능**: 과거 특정 시점의 데이터 상태 확인
		- **디버깅**: 문제 발생 시점의 상태 재현
	- **Time Travel**
		- **이벤트 재생**: 원하는 시점부터 다시 재생
		- **What-if 분석**: 특정 이벤트 제외하고 재생
		- **A/B 테스트**: 다른 비즈니스 로직으로 재생

6. Projection 관리
	- Multiple Projections 
		- **User List View**: 사용자 목록용 최적화
		- **User Detail View**: 상세 정보용 최적화
		- **Analytics View**: 분석용 집계 데이터
	- Projection Rebuild
		- **스키마 변경**: 새로운 Projection 필요 시
		- **버그 수정**: 잘못된 로직으로 생성된 Projection 수정
		- **Performance**: 더 빠른 쿼리를 위한 재구성

> **Multiple Projections (여러 뷰)**
>
> - **동일한 이벤트 스트림에서 서로 다른 목적의 뷰들 생성**
> - 각각 다른 쿼리 패턴에 최적화
> - 동시에 여러 개 존재
>
> **Projection Rebuild (재구성)**
>
> - **기존 Projection을 새로 다시 만드는 과정**
> - 전체 이벤트 스트림을 처음부터 다시 재생
> - 하나의 Projection을 대체 


7. Event Sourcing 도입 고려사항
	- 장점
		- **완전한 감사 추적**: 모든 변경 이력 보존
		- **시간 여행**: 과거 상태 재현 가능
		- **유연한 읽기 모델**: 다양한 Projection 생성
		- **이벤트 재생**: 새로운 기능을 기존 데이터에 적용
	- 단점
		- **복잡성 증가**: CRUD보다 구현 복잡
		- **학습 곡선**: 팀의 새로운 패러다임 학습 필요
		- **성능 오버헤드**: 이벤트 재생 비용
		- **즉시 일관성 부족**: Projection 업데이트 지연

## 3가지 상태
### 1. CLOSED
- 모든 요청 정상 통과
- 실패율 모니터링
- 임계 값 초과 시 ->  OPEN

### 2. OPEN
- 모든 요청 즉시 차단
- fallback 응답 반환
- timeout 후 -> HALF_OPEN

### 3. HALF_OPEN
- 제한된 요청만 허용
- 성공 시 -> CLOSED
- 실패 시 -> OPEN


## Resilience4J

| 설정 | 기본값 | 설명 | 예시 | 주의사항 |
|------|------|------|------|----------|
| **failureRateThreshold** | 50.0f | OPEN 상태로 전환되는 실패율 임계값 (%) | 30.0f = 30% 이상 실패 시 OPEN | 0.0~100.0 범위 |
| **minimumNumberOfCalls** | 100 | 실패율 계산을 시작하는 최소 호출 수 | 5 = 5번 호출 후부터 실패율 계산 | 이 수치 미달 시 항상 CLOSED |
| **waitDurationInOpenState** | 60초 | OPEN 상태 유지 시간 (HALF-OPEN 전환 대기) | 10초 = 10초 후 HALF-OPEN 시도 | 너무 짧으면 장애 서비스 부하 |
| **permittedNumberOfCallsInHalfOpenState** | 10 | HALF-OPEN에서 허용되는 테스트 호출 수 | 2 = 2번 테스트 후 상태 결정 | 이 수만큼 성공해야 CLOSED |
| **slidingWindowSize** | 100 | 통계 계산 윈도우 크기 (최근 N번 호출) | 10 = 최근 10번 호출 기준 | minimumNumberOfCalls ≤ slidingWindowSize |
| **recordExceptions** | 모든 Exception | 실패로 기록할 예외 타입들 | `RuntimeException.class` | 지정 안 하면 모든 예외가 실패 |

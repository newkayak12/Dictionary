### ë¬´ì—‡ì¸ê°€?
1. Vector: ArrayListì™€ ìœ ì‚¬ Thread-safe
2. Hashtable: HashMapê³¼ ìœ ì‚¬ Thread-safe

### ë¬¸ì œì ?
1. ê³¼ë„í•œ synchronized
2. java 1.0/1.1 ì‹œì ˆì˜ ë ˆê±°ì‹œ ì„¤ê³„ 
3. ë¬´ì¡°ê±´ ë™ê¸°í™” ì •ì±…ìœ¼ë¡œ í•„ìš”í•œ ë¶€ë¶„ì—ì„œë§Œ ë™ê¸°í™”ê°€ ë¶ˆê°€í•˜ë‹¤.
4. generic ì´ì „ì´ë¼ type-safeí•˜ì§€ ì•Šë‹¤.

##### Vector:
- ë‚´ë¶€ì ìœ¼ë¡œ Object[]ë¥¼ ì‚¬ìš©
- ê¸°ë³¸ì ìœ¼ë¡œ ë™ì  ë°°ì—´ì²˜ëŸ¼ í¬ê¸° ìë™ ì¦ê°€ (Vector -> 2ë°°, ArrayList -> 1.5ë°° )
- ìˆœì°¨, ëœë¤ ì ‘ê·¼ì´ ë¹ ë¥´ë‹¤.(ì¸ë±ìŠ¤ ì‚¬ìš©)
- ê·¸ëŸ¬ë‚˜ ì„¤ê³„ ì² í•™, APIê°€ legacy
	- ëª¨ë“  ë©”ì†Œë“œë¥¼ ë™ê¸°í™”í•œë‹¤. -> ê³¼ë„í•œ ë™ê¸°í™”ë‹¤.
	- outdated API
		- addElement, elementAt, firtElement, lastElement ë“± ê°™ì€ API ì¤‘ë³µ ì œê³µ
- ê²°ê³¼ì ìœ¼ë¡œ ArrayListì—ì„œëŠ” ìƒí™©ì— ë§ëŠ” ë™ê¸°í™” ì „ëµ, API ì¼ê´€ì„±ì„ ë§ì·„ë‹¤

##### HashTable:
- Null Key, Null Value ë¶ˆí—ˆ
- ëª¨ë“  ë©”ì†Œë“œê°€ `synchronized` -> ë¶ˆí•„ìš”í•œ ì„±ëŠ¥ ì†ì‹¤
- `Enumeration`ê³¼ ê°™ì€ ë‚¡ì€ APIë¥¼ ì‚¬ìš©
- Hash Collisionì— chainingì„ ì‚¬ìš© -> ì¶©ëŒì´ ë§ì•„ì§€ë©´ ì—°ê²°ë¦¬ìŠ¤íŠ¸ê°€ ê¸¸ì–´ì§„ë‹¤.
- ê²°ê³¼ì ìœ¼ë¡œ
	- HashMapì—ì„œëŠ” ìƒí™©ì— ë§ëŠ” ë™ê¸°í™” ì •ì±… ì‚¬ìš©
	- í˜„ëŒ€í™”ëœ ë©”ì†Œë“œ
	- Hash Collisionì— chaining, Treeify ì‚¬ìš©
		- chainingì„ ì“°ì§€ë§Œ ë„ˆë¬´ ê¸¸ì–´ì§€ë©´ (threshold >= 8) Red-Black treeë¡œ ì „í™˜í•œë‹¤.

 > #### Open Addressing
 > - í•´ì‹œ ì¶©ëŒ ë°œìƒ ì‹œ, í•´ì‹œ í…Œì´ë¸”ì˜ ë‹¤ë¥¸ ë¹„ì–´ ìˆëŠ” ìŠ¬ë¡¯ì„ ì§ì ‘ íƒìƒ‰í•˜ì—¬ ì €ì¥
 > - ì²´ì´ë‹ ê°™ì´ ì—°ê²° ë¦¬ìŠ¤íŠ¸ ì“°ì§€ ì•ŠìŒ
 > - probe: index = (hash(key) + f(i)) % capacity
> 	- ì„ í˜• íƒì‚¬: f(i) = i
> 	- ì´ì°¨ íƒì‚¬: f(i) = iÂ²
> 	- ì´ì¤‘ í•´ì‹±: f(i) = i * hash2(key)
> - ì¥ì 
> 	- ë©”ëª¨ë¦¬ ì§€ì—­ì„±ì´ ì¢‹ì•„ ìºì‹œ ì¹œí™”ì 
> 	- ë³„ë„ ìë£Œêµ¬ì¡° í•„ìš” ì—†ìŒ -> ê³µê°„ íš¨ìœ¨
> - ë‹¨ì 
> 	- ì¶©ëŒì´ ì‹¬í•´ì§€ë©´ í´ëŸ¬ìŠ¤í„° ë°œìƒ
> 	- í…Œì´ë¸”ì´ ê½‰ì°¨ë©´ ì‚½ì…/íƒìƒ‰ ë¹„ìš©ì´ ê¸‰ì¦
> 	- ì‚­ì œ êµ¬í˜„ì´ ì–´ë ¤ì›€(ë…¼ë¦¬ ì‚­ì œ)
 >
 > #### Red-Black
 > - BST ê¸°ë°˜(ì™¼ìª½ì€ ë¶€ëª¨ë³´ë‹¤ ì‘ê³ , ì˜¤ë¥¸ìª½ì€ ë¶€ëª¨ ë³´ë‹¤ í¬ë‹¤.)
 > - ìê°€ ê· í˜•ì„ ìœ ì§€í•˜ê¸° ìœ„í•´ì„œ Red, Blackì˜ ìƒ‰ì„ ê°€ì§„ë‹¤.
 > - ìƒ‰ì€ ë°ì´í„°ë¥¼ ìœ„í•œ ê²ƒì´ ì•„ë‹ˆë¼ ê· í˜• ìœ ì§€ë¥¼ ìœ„í•œ ê²ƒì´ë‹¤.
> 	- RootëŠ” Black
> 	- RedëŠ” Red ìì‹ì„ ê°€ì§ˆ ìˆ˜ ì—†ë‹¤.
> 	- Root - Leafê¹Œì§€ Black ë…¸ë“œ ê°œìˆ˜ëŠ” ê°™ì•„ì•¼ í•œë‹¤.
> 	- ì‚½ì…í•  ë–„ëŠ” Redë¡œ ì¶”ê°€
> 	- ê·œì¹™ ìœ„ë°˜(ì—°ì† ë¹¨ê°• ë“±) ì‹œ -> ìƒ‰ìƒ ì¬ì¡°ì •, íšŒì „ìœ¼ë¡œ ë³µêµ¬
>
>   - case study
>   ğŸ” ì‹œë‚˜ë¦¬ì˜¤ 10 -> 20 -> 30 ì‚½ì…
>   1. 10 ì‚½ì…
>      
> 	     10(B)
>      
>   2. 20 ì‚½ì…
>      
> 	     10(B)
> 		      \
> 			  20(R)
> 			  
>   3. 30 ì‚½ì…
>      
> 	     10(B)
 		      \
 			  20(R)
 			   \
				  30(R)
> 			   
>   4. !ìœ„ë°˜ -> RR
>      
>          20(B)
> 		/     \
> 	 10(R)	  20(R)


#### Enumeration vs. Iterator
1. Enumeration
	1. `java.util.Enumeration` ì¸í„°í˜ì´ìŠ¤
	2. legacy Collection(Hashtable, Vector) ì „ìš©
	3. ë‹¨ìˆœíˆ ë°ì´í„°ë¥¼ í•˜ë‚˜ì”© ë‚˜ì—´ í•œë‹¤.
	4. ìˆ˜ì •(ì‚­ì œ) ë¶ˆê°€í•˜ë‹¤.
	5. fail-safe, fail-fastë„ ì•„ë‹ˆë‹¤.
	6. Thread-safeí•˜ì§€ ì•Šë‹¤.
2. Iterator
	1. `java.util.Iterator` ì¸í„°í˜ì´ìŠ¤
	2. CollectionFrameworkì™€ ë“±ì¥
	3. ì»¬ë ‰ì…˜ì„ í‘œì¤€ ë°©ì‹ìœ¼ë¡œ ìˆœíšŒ + ì‚­ì œ ê°€ëŠ¥
	4. fail-fase ì§€ì›
		1. ì»¬ë ‰ì…˜ì´ ë™ì‹œ ìˆ˜ì •ë˜ë©´ `ConcurrentModificationException`ìœ¼ë¡œ íƒì§€
		2. ì»¬ë ‰ì…˜ì˜ êµ¬ì¡°ì  ë³€ê²½ì„ íƒì§€
	5. for-each ê°€ëŠ¥

##### fail-fast
1. ìˆœíšŒ ì¤‘ ì»¬ë ‰ì…˜ êµ¬ì¡° ë³€ê²½ì„ ê°ì§€í•˜ë©´ ì¦‰ì‹œ ì˜ˆì™¸ ë°œìƒ
2. Thread-safeí•˜ì§€ ì•Šë‹¤.
3. ì˜ëª»ëœ ìƒíƒœì—ì„œ ê³„ì† ì§„í–‰í•˜ì§€ ì•Šë„ë¡ ë¹ ë¥´ê²Œ ì‹¤íŒ¨
4. ì»¬ë ‰ì…˜ ë‚´ë¶€ì— `modCount`ë¼ëŠ” ë³€ê²½ ì¹´ìš´í„°ë¥¼ ì‚¬ìš©
5. iteratorê°€ ìƒì„±ë  ë•Œ í˜„ì¬ modCount ì €ì¥
6. ìˆœíšŒ ì¤‘ `next()`, `remove()` í˜¸ì¶œí•  ë•Œ ì»¬ë ‰ì…˜ì˜ modCountì™€ iteratorê°€ ê¸°ì–µí•œ modCountë¹„êµ
7. ë¶ˆì¼ì¹˜í•˜ë©´ `ConcurrentModificationException`
   ```java
	Iterator<Integer> it = map.keySet().iterator();
	map.put(100, "new");
	it.next() //throw ConcurrentModificationException!
```
##### fail-safe
1. ì»¬ë ‰ì…˜ ìŠ¤ëƒ…ìƒ·ì„ ìˆœíšŒí•˜ê±°ë‚˜, ì•ˆì „í•˜ê²Œ ë™ì‹œ ì ‘ê·¼ì„ ì²˜ë¦¬
2. ë™ì‹œ ë³€ê²½ì„ í—ˆìš© -> ì˜ˆì™¸ ì—†ì´ ë™ì‘
3. Thread-safe
4. ConcurrentHashMap, CopyOnWriteArrayList ë“±
